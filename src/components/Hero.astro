---
import { getLocaleFromUrl, t } from "../i18n/utils";

const locale = getLocaleFromUrl(Astro.url);
const i18n = t(locale);
---

<section class="hero">
    <div class="mesh-bg" aria-hidden="true">
        <div class="mesh-blob blob-1"></div>
        <div class="mesh-blob blob-2"></div>
        <div class="mesh-blob blob-3"></div>
        <div class="mesh-blob blob-4"></div>
    </div>
    <div class="container hero-content">
        <div class="hero-badge reveal">
            <span class="badge-dot"></span>
            {i18n.hero.badge}
        </div>

        <h1 class="hero-headline reveal reveal-delay-1">
            {i18n.hero.headlineBefore}<br />
            <span class="hero-headline-accent">{i18n.hero.headlineAccent}</span
            >{i18n.hero.headlineAfter}
        </h1>

        <p class="hero-subtext reveal reveal-delay-2">
            {i18n.hero.subtext1}<br />
            {i18n.hero.subtext2}
        </p>

        <div class="hero-actions reveal reveal-delay-3">
            <a
                href="/PomodoroCalendar.dmg"
                download
                class="btn btn-primary btn-lg"
            >
                <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"></path>
                    <path
                        d="M5.83337 8.33337L10 12.5L14.1667 8.33337"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"></path>
                    <path
                        d="M10 12.5V2.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"></path>
                </svg>
                {i18n.hero.ctaPrimary}
                <span class="btn-version">{i18n.hero.ctaVersion}</span>
            </a>
            <a href="#why" class="btn btn-secondary">
                {i18n.hero.ctaSecondary}
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M8 3V13M8 13L12 9M8 13L4 9"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"></path>
                </svg>
            </a>
        </div>
    </div>
</section>

<style>
    .hero {
        padding-top: calc(56px + var(--space-5xl));
        padding-bottom: var(--space-4xl);
        text-align: center;
        position: relative;
        overflow: hidden;
        background: #f8f8fa;
    }

    /* Gradient Mesh Background */
    .mesh-bg {
        position: absolute;
        inset: 0;
        overflow: hidden;
        pointer-events: none;
        z-index: 0;
    }

    .mesh-blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(60px);
        opacity: 1;
        will-change: transform;
    }

    .blob-1 {
        width: 600px;
        height: 600px;
        background: radial-gradient(
            circle,
            rgba(175, 82, 222, 0.25) 0%,
            transparent 65%
        );
        top: -20%;
        left: -10%;
        animation: float-1 14s ease-in-out infinite;
    }

    .blob-2 {
        width: 550px;
        height: 550px;
        background: radial-gradient(
            circle,
            rgba(255, 99, 71, 0.2) 0%,
            transparent 65%
        );
        top: -15%;
        right: -10%;
        animation: float-2 16s ease-in-out infinite;
    }

    .blob-3 {
        width: 500px;
        height: 500px;
        background: radial-gradient(
            circle,
            rgba(0, 122, 255, 0.2) 0%,
            transparent 65%
        );
        bottom: -10%;
        left: 20%;
        animation: float-3 18s ease-in-out infinite;
    }

    .blob-4 {
        width: 450px;
        height: 450px;
        background: radial-gradient(
            circle,
            rgba(52, 199, 89, 0.18) 0%,
            transparent 65%
        );
        bottom: 5%;
        right: 10%;
        animation: float-4 12s ease-in-out infinite;
    }

    @keyframes float-1 {
        0%,
        100% {
            transform: translate(0, 0) scale(1);
        }
        33% {
            transform: translate(60px, 40px) scale(1.1);
        }
        66% {
            transform: translate(-30px, 70px) scale(0.95);
        }
    }

    @keyframes float-2 {
        0%,
        100% {
            transform: translate(0, 0) scale(1);
        }
        33% {
            transform: translate(-50px, 50px) scale(1.05);
        }
        66% {
            transform: translate(40px, -30px) scale(1.1);
        }
    }

    @keyframes float-3 {
        0%,
        100% {
            transform: translate(0, 0) scale(1);
        }
        33% {
            transform: translate(40px, -50px) scale(1.08);
        }
        66% {
            transform: translate(-60px, -20px) scale(0.95);
        }
    }

    @keyframes float-4 {
        0%,
        100% {
            transform: translate(0, 0) scale(1);
        }
        33% {
            transform: translate(-30px, -40px) scale(1.12);
        }
        66% {
            transform: translate(50px, 30px) scale(0.98);
        }
    }

    .hero-content {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-size: var(--font-size-sm);
        font-weight: 500;
        color: var(--color-text-secondary);
        background: var(--color-white);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-full);
        padding: 6px 16px;
        margin-bottom: var(--space-xl);
    }

    .badge-dot {
        width: 6px;
        height: 6px;
        background: #34c759;
        border-radius: 50%;
        animation: pulse-dot 2s ease-in-out infinite;
    }

    @keyframes pulse-dot {
        0%,
        100% {
            opacity: 1;
            transform: scale(1);
        }
        50% {
            opacity: 0.6;
            transform: scale(1.3);
        }
    }

    .hero-headline {
        font-size: var(--font-size-5xl);
        font-weight: 800;
        line-height: 1.15;
        letter-spacing: -0.025em;
        color: var(--color-text-primary);
        margin-bottom: var(--space-lg);
        max-width: 720px;
    }

    .hero-headline-accent {
        display: inline-block;
        background: linear-gradient(
            120deg,
            #ff6347 0%,
            #ff8c42 25%,
            #007aff 50%,
            #af52de 75%,
            #ff6347 100%
        );
        background-size: 200% auto;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: shimmer 3s ease-in-out infinite alternate;
    }

    @keyframes shimmer {
        0% {
            background-position: 0% center;
            filter: hue-rotate(0deg) brightness(1);
        }
        25% {
            filter: hue-rotate(15deg) brightness(1.05);
        }
        50% {
            background-position: 50% center;
            filter: hue-rotate(-10deg) brightness(1.1);
        }
        75% {
            filter: hue-rotate(20deg) brightness(1.05);
        }
        100% {
            background-position: 100% center;
            filter: hue-rotate(0deg) brightness(1);
        }
    }

    .hero-subtext {
        font-size: var(--font-size-xl);
        color: var(--color-text-secondary);
        line-height: 1.7;
        max-width: 480px;
        margin-bottom: var(--space-2xl);
    }

    .hero-actions {
        display: flex;
        align-items: center;
        gap: var(--space-md);
    }

    .btn-lg {
        padding: 16px 32px;
        font-size: var(--font-size-base);
    }

    .btn-version {
        font-size: var(--font-size-xs);
        font-weight: 400;
        opacity: 0.7;
        margin-left: 4px;
    }

    @media (max-width: 768px) {
        .hero {
            padding-top: calc(56px + var(--space-3xl));
        }

        .hero-headline {
            font-size: var(--font-size-4xl);
        }

        .hero-subtext {
            font-size: var(--font-size-base);
        }

        .hero-actions {
            flex-direction: column;
            width: 100%;
        }

        .hero-actions .btn {
            width: 100%;
            justify-content: center;
        }

        .btn-lg {
            padding: 14px 24px;
        }
    }
</style>
